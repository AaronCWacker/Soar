
sp {elab-em-atoms-intersect
   (state <s> ^svs.command <cmd>)
   (<cmd> ^create-model <cm>)
   (<cm> ^type em ^result <r>)
   (<r> ^intersect <p>)
   (<p> ^a <n0> ^b <n1>)
 -{(<cmd> ^create-model <cm2>)
   (<cm2> ^type em ^result <r2>)
   (<r2> ^intersect { <p2> < <p> })
   (<p2> ^a <n0> ^b <n1>)}
-->
   (<cmd> ^extract <e>)
   (<e> ^type intersect ^a <x0> ^b <x1>)
(<x0> ^type node ^name <n0>)
(<x1> ^type node ^name <n1>) }


sp {elab-em-atoms-north-of
   (state <s> ^svs.command <cmd>)
   (<cmd> ^create-model <cm>)
   (<cm> ^type em ^result <r>)
   (<r> ^north-of <p>)
   (<p> ^a <n0> ^b <n1>)
 -{(<cmd> ^create-model <cm2>)
   (<cm2> ^type em ^result <r2>)
   (<r2> ^north-of { <p2> < <p> })
   (<p2> ^a <n0> ^b <n1>)}
-->
   (<cmd> ^extract <e>)
   (<e> ^type north-of ^a <x0> ^b <x1>)
(<x0> ^type node ^name <n0>)
(<x1> ^type node ^name <n1>) }


sp {elab-em-atoms-south-of
   (state <s> ^svs.command <cmd>)
   (<cmd> ^create-model <cm>)
   (<cm> ^type em ^result <r>)
   (<r> ^south-of <p>)
   (<p> ^a <n0> ^b <n1>)
 -{(<cmd> ^create-model <cm2>)
   (<cm2> ^type em ^result <r2>)
   (<r2> ^south-of { <p2> < <p> })
   (<p2> ^a <n0> ^b <n1>)}
-->
   (<cmd> ^extract <e>)
   (<e> ^type south-of ^a <x0> ^b <x1>)
(<x0> ^type node ^name <n0>)
(<x1> ^type node ^name <n1>) }


sp {elab-em-atoms-east-of
   (state <s> ^svs.command <cmd>)
   (<cmd> ^create-model <cm>)
   (<cm> ^type em ^result <r>)
   (<r> ^east-of <p>)
   (<p> ^a <n0> ^b <n1>)
 -{(<cmd> ^create-model <cm2>)
   (<cm2> ^type em ^result <r2>)
   (<r2> ^east-of { <p2> < <p> })
   (<p2> ^a <n0> ^b <n1>)}
-->
   (<cmd> ^extract <e>)
   (<e> ^type east-of ^a <x0> ^b <x1>)
(<x0> ^type node ^name <n0>)
(<x1> ^type node ^name <n1>) }


sp {elab-em-atoms-west-of
   (state <s> ^svs.command <cmd>)
   (<cmd> ^create-model <cm>)
   (<cm> ^type em ^result <r>)
   (<r> ^west-of <p>)
   (<p> ^a <n0> ^b <n1>)
 -{(<cmd> ^create-model <cm2>)
   (<cm2> ^type em ^result <r2>)
   (<r2> ^west-of { <p2> < <p> })
   (<p2> ^a <n0> ^b <n1>)}
-->
   (<cmd> ^extract <e>)
   (<e> ^type west-of ^a <x0> ^b <x1>)
(<x0> ^type node ^name <n0>)
(<x1> ^type node ^name <n1>) }


sp {elab-em-atoms-horizontally-aligned
   (state <s> ^svs.command <cmd>)
   (<cmd> ^create-model <cm>)
   (<cm> ^type em ^result <r>)
   (<r> ^horizontally-aligned <p>)
   (<p> ^a <n0> ^b <n1>)
 -{(<cmd> ^create-model <cm2>)
   (<cm2> ^type em ^result <r2>)
   (<r2> ^horizontally-aligned { <p2> < <p> })
   (<p2> ^a <n0> ^b <n1>)}
-->
   (<cmd> ^extract <e>)
   (<e> ^type horizontally-aligned ^a <x0> ^b <x1>)
(<x0> ^type node ^name <n0>)
(<x1> ^type node ^name <n1>) }


sp {elab-em-atoms-vertically-aligned
   (state <s> ^svs.command <cmd>)
   (<cmd> ^create-model <cm>)
   (<cm> ^type em ^result <r>)
   (<r> ^vertically-aligned <p>)
   (<p> ^a <n0> ^b <n1>)
 -{(<cmd> ^create-model <cm2>)
   (<cm2> ^type em ^result <r2>)
   (<r2> ^vertically-aligned { <p2> < <p> })
   (<p2> ^a <n0> ^b <n1>)}
-->
   (<cmd> ^extract <e>)
   (<e> ^type vertically-aligned ^a <x0> ^b <x1>)
(<x0> ^type node ^name <n0>)
(<x1> ^type node ^name <n1>) }


sp {elab-em-atoms-on-top
   (state <s> ^svs.command <cmd>)
   (<cmd> ^create-model <cm>)
   (<cm> ^type em ^result <r>)
   (<r> ^on-top <p>)
   (<p> ^top <n0> ^bottom <n1>)
 -{(<cmd> ^create-model <cm2>)
   (<cm2> ^type em ^result <r2>)
   (<r2> ^on-top { <p2> < <p> })
   (<p2> ^top <n0> ^bottom <n1>)}
-->
   (<cmd> ^extract <e>)
   (<e> ^type on-top ^top <x0> ^bottom <x1>)
(<x0> ^type node ^name <n0>)
(<x1> ^type node ^name <n1>) }

